(this["webpackJsonpbudget-react"]=this["webpackJsonpbudget-react"]||[]).push([[0],{120:function(e,t,n){},121:function(e,t,n){},372:function(e,t,n){},373:function(e,t,n){},374:function(e,t,n){},375:function(e,t,n){},376:function(e,t,n){},377:function(e,t,n){"use strict";n.r(t);var c=n(8),a=n(2),s=n.n(a),r=n(9),o=n.n(r),i=(n(78),n(120),n(39)),l=n(45),u=n(57),m=(n(121),n(111)),b=n(112),h=n(114),d=n(113),j=n(10),f=(n(372),function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e){var c;return Object(m.a)(this,n),(c=t.call(this,e)).formRef=s.a.createRef(),c.state={form:{type:"",comment:"",cash:0},rules:{type:[{required:!0,message:"choose type",trigger:"change"}],comment:[{required:!0,message:"Please, add comment",trigger:"blur"}],cash:[{required:!0,message:"cash is required"},{validator:function(e,t,n){var c=parseInt(t,10);Number.isInteger(c)?c<1?n(new Error("Please input a number greater then 0")):n():n(new Error("Cash must be a number"))},trigger:"change"}]}},c}return Object(b.a)(n,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.formRef.current.validate((function(n){if(!n)return console.log("error submit!!"),!1;t.props.addItem(t.state.form),t.handleReset(e)}))}},{key:"handleReset",value:function(e){e.preventDefault(),this.formRef.current.resetFields(),this.setState({form:{type:"",comment:"",cash:""}})}},{key:"onChange",value:function(e,t){this.setState({form:Object.assign({},this.state.form,Object(i.a)({},e,t))})}},{key:"render",value:function(){return Object(c.jsx)(j.Card,{className:"box-card form-auto",header:"Add a new record",children:Object(c.jsxs)(j.Form,{ref:this.formRef,model:this.state.form,rules:this.state.rules,labelWidth:"90%",labelPosition:"left",className:"demo-ruleForm",children:[Object(c.jsx)(j.Form.Item,{label:"Type",prop:"type",children:Object(c.jsxs)(j.Select,{value:this.state.form.type,placeholder:"Please select type",onChange:this.onChange.bind(this,"type"),children:[Object(c.jsx)(j.Select.Option,{label:"Income",value:"Income"}),Object(c.jsx)(j.Select.Option,{label:"Outcome",value:"Outcome"})]})}),Object(c.jsx)(j.Form.Item,{label:"Comment",prop:"comment",children:Object(c.jsx)(j.Input,{type:"text",value:this.state.form.comment,onChange:this.onChange.bind(this,"comment"),autoComplete:"off"})}),Object(c.jsx)(j.Form.Item,{label:"Cash",prop:"cash",children:Object(c.jsx)(j.Input,{value:Number(this.state.form.cash),onChange:this.onChange.bind(this,"cash")})}),Object(c.jsxs)(j.Form.Item,{children:[Object(c.jsx)(j.Button,{type:"primary",onClick:this.handleSubmit.bind(this),children:"Submit"}),Object(c.jsx)(j.Button,{onClick:this.handleReset.bind(this),children:"Reset"})]})]})})}}]),n}(s.a.Component));n(373);var O=function(e){var t=e.list.reduce((function(e,t){return e+t.cash}),0),n=t>0?"good-balance":t<0?"bad-balance":"";return Object(c.jsxs)("div",{className:["total-value",n].join(" "),children:["Total balance : ",t]})},p=s.a.createContext(),v=s.a.createContext();n(374);var x=function(e){var t=e.item,n="Income"===t.type?"el-icon-plus":"el-icon-minus",a="Income"===t.type?"green":"red",r=s.a.useContext(v);return Object(c.jsxs)("div",{className:"list-item",children:[Object(c.jsx)("i",{className:[n,a].join(" ")}),Object(c.jsx)("span",{className:"budget-comment",children:t.comment}),Object(c.jsx)("span",{className:["budget-value",a].join(" "),children:t.cash}),Object(c.jsx)(j.Button,{type:"danger",size:"small",plain:!0,onClick:function(){return r(t.id)},children:"Delete"})]})};n(375);var g=function(){var e="",t=s.a.useContext(p),n=t.sortList,a=t.setTypeSort;function r(e,t){document.querySelectorAll(".list-control .el-button").forEach((function(e){return e.classList.remove("link-active")}));for(var c=t.target;!c.classList.contains("el-button");)c=c.parentElement;c.classList.add("link-active"),a(e),n(e)}return Object(c.jsxs)("div",{class:"list-control",children:[Object(c.jsx)(j.Button,{type:"text",onClick:function(e){return r("all",e)},className:["link-active",e].join(" "),children:"Show all"}),Object(c.jsx)(j.Button,{type:"text",onClick:function(e){return r("Income",e)},className:e,children:"Show income"}),Object(c.jsx)(j.Button,{type:"text",onClick:function(e){return r("Outcome",e)},className:e,children:"Show outcome"})]})};n(376);var y=function(){var e,t=s.a.useContext(p).listSorted;return e=t.length?t.map((function(e){return Object(c.jsx)(x,{item:e},e.id)})):Object(c.jsx)(j.Alert,{title:"Empty list",type:"info",showIcon:!0,closable:!1}),Object(c.jsxs)(j.Card,{className:"box-card list-auto",header:"Budget list",children:[Object(c.jsx)(g,{}),e]})};var C=function(){var e=s.a.useState({1:{type:"Income",cash:100,comment:"Income comment",id:1},2:{type:"Outcome",cash:-75,comment:"Outcome comment",id:2},3:{type:"Income",cash:200,comment:"Income comment",id:3}}),t=Object(u.a)(e,2),n=t[0],r=t[1],o=Object.values(n),m=Object(a.useState)(o),b=Object(u.a)(m,2),h=b[0],d=b[1],j=Object(a.useState)("all"),x=Object(u.a)(j,2),g=x[0],C=x[1];function I(e){if("all"===e)return d(Object.values(n)),void console.log(h);d(Object.values(n).filter((function(t){return t.type===e}))),console.log(h)}return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(f,{addItem:function(e){var t=Object.keys(n).pop(),c=Number(t)+1||1,a=Object(l.a)(Object(l.a)({},e),{},{id:c});a.cash=Number(a.cash),"Outcome"===a.type&&(a.cash=0-a.cash),Object.assign(n,Object(i.a)({},a.id,a)),r(Object(l.a)({},n)),I(g)}}),Object(c.jsx)(O,{list:o}),Object(c.jsx)(p.Provider,{value:{listSorted:h,sortList:I,setTypeSort:C},children:Object(c.jsx)(v.Provider,{value:function(e){delete n[e],r(Object(l.a)({},n)),I(g)},children:Object(c.jsx)(y,{})})})]})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,378)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))};o.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(C,{})}),document.getElementById("root")),I()}},[[377,1,2]]]);
//# sourceMappingURL=main.cf8b9e90.chunk.js.map